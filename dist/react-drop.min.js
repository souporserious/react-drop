!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React"),require("ReactDOM"),require("Travel")):"function"==typeof define&&define.amd?define(["React","ReactDOM","Travel"],e):"object"==typeof exports?exports.Drop=e(require("React"),require("ReactDOM"),require("Travel")):t.Drop=e(t.React,t.ReactDOM,t.Travel)}(this,function(t,e,o){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="dist/",e(0)}([function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(1),r=i(n);e["default"]=r["default"],t.exports=e["default"]},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),u=function(t,e,o){for(var i=!0;i;){var n=t,r=e,s=o;u=l=a=void 0,i=!1,null===n&&(n=Function.prototype);var u=Object.getOwnPropertyDescriptor(n,r);if(void 0!==u){if("value"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(s)}var l=Object.getPrototypeOf(n);if(null===l)return void 0;t=l,e=r,o=s,i=!0}},a=o(2),l=i(a),f=o(3),p=(i(f),o(4)),c=i(p),d=o(5),h=i(d),v=o(8),y=i(v),g=o(9),b=i(g),_=new y["default"],Drop=function(t){function Drop(){var t=this;n(this,Drop),u(Object.getPrototypeOf(Drop.prototype),"constructor",this).apply(this,arguments),this.state={drop:null,dirty:!0,positioning:!0,x:0,y:0},this._scrollParent=void 0,this._isPositioning=!1,this._isMounted=!1,this._lastDrop={},this.position=function(){var e=t.props,o=e.target,i=e.position,n=e.align,r=e.offset,s=document.body,u=s.scrollTop,a=s.scrollLeft,l=o.getBoundingClientRect(),f={width:t._drop.offsetWidth,height:t._drop.offsetHeight},p=0,c=0;switch(t._positioning(),i){case"top":p=l.left,c=l.top-f.height,"middle"===n&&(p=l.left+l.width/2-f.width/2),"right"===n&&(p=l.right-f.width);break;case"right":p=l.right,c=l.top,"middle"===n&&(c=l.top+l.height/2-f.height/2),"bottom"===n&&(c=l.bottom-f.height);break;case"bottom":p=l.left,c=l.bottom,"middle"===n&&(p=l.left+l.width/2-f.width/2),"right"===n&&(p=l.right-f.width);break;case"left":p=l.left-f.width,c=l.top,"middle"===n&&(c=l.top+l.height/2-f.height/2),"bottom"===n&&(c=l.bottom-f.height)}p+=u+r.top,c+=a+r.left,t.setState({x:p,y:c,dirty:!1},function(){t._lastDrop=f})}}return r(Drop,t),s(Drop,[{key:"componentDidMount",value:function(){var t=this.props.target;this._isMounted=!0,t&&(this.position(),this._scrollParent=b["default"](t),this._scrollParent!==document.body&&this._scrollParent.addEventListener("scroll",this.position),_.add(this))}},{key:"componentWillReceiveProps",value:function(t){var e=t.children;this.props.children!==e&&this.setState({dirty:!0})}},{key:"shouldComponentUpdate",value:function(t,e){return h["default"](this,t,e)}},{key:"componentDidUpdate",value:function(){(this.state.dirty||this._drop.offsetWidth!==this._lastDrop.width&&this._drop.offsetHeight!==this._lastDrop.height)&&this.position()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,"undefined"!=typeof this._scrollParent&&this._scrollParent.removeEventListener("scroll",this.position),_.remove(this)}},{key:"_getDimensions",value:function(){var t=document.body,e=t.scrollTop,o=t.scrollLeft;this.setState({target:target.getBoundingClientRect(),content:{width:this._drop.offsetWidth,height:this._drop.offsetHeight},scrollTop:e,scrollLeft:o})}},{key:"_positioning",value:function(){var t=this;this._isPositioning=!0,this.setState({positioning:!0},function(){t._isPositioning=!1,setTimeout(function(){!t._isPositioning&&t._isMounted&&t.setState({positioning:!1})},350)})}},{key:"render",value:function(){var t=this,e=this.props,o=e.children,i=e.onWheel,n=this.state,r=n.positioning,s=n.x,u=n.y,f={position:"absolute",top:0,left:0,transform:"translate("+s+"px, "+u+"px)",zIndex:1e4,pointerEvents:r?"none":"auto"};return l["default"].createElement(c["default"],{getNode:function(e){return t._drop=e},style:f},a.cloneElement(a.Children.only(o),{onWheel:function(e){t.setState({positioning:!0}),i&&i(e)}}))}}],[{key:"propTypes",value:{target:a.PropTypes.object,position:a.PropTypes.string,align:a.PropTypes.string,offset:a.PropTypes.shape({top:a.PropTypes.number,left:a.PropTypes.number})},enumerable:!0},{key:"defaultProps",value:{position:"top",align:"left",offset:{top:0,left:0}},enumerable:!0}]),Drop}(a.Component);e["default"]=Drop,t.exports=e["default"]},function(e,o){e.exports=t},function(t,o){t.exports=e},function(t,e){t.exports=o},function(t,e,o){"use strict";t.exports=o(6)},function(t,e,o){"use strict";function i(t,e,o){return!n(t.props,e)||!n(t.state,o)}var n=o(7);t.exports=i},function(t,e){"use strict";function o(t,e){if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var o=Object.keys(t),n=Object.keys(e);if(o.length!==n.length)return!1;for(var r=i.bind(e),s=0;s<o.length;s++)if(!r(o[s])||t[o[s]]!==e[o[s]])return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=o},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function(){function t(){o(this,t),this._queue=[],this.update=this.update.bind(this),this.create()}return i(t,[{key:"create",value:function(){window.addEventListener("resize",this.update)}},{key:"destroy",value:function(){this._queue=[],window.removeEventListener("resize",this.update)}},{key:"add",value:function(t){this._queue.push(t)}},{key:"remove",value:function(t){var e=this._queue.indexOf(t);e>-1&&this._queue.splice(e,1)}},{key:"update",value:function(){for(var t=this._queue.length;t--;)this._queue[t].position()}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function o(t){var e=getComputedStyle(t)||{},o=e.position;if("fixed"===o)return t;for(var i=t;i=i.parentNode;){var n=void 0;try{n=getComputedStyle(i)}catch(r){}if("undefined"==typeof n||null===n)return i;var s=n,u=s.overflow,a=s.overflowX,l=s.overflowY;if(/(auto|scroll)/.test(u+l+a)&&("absolute"!==o||["relative","absolute","fixed"].indexOf(n.position)>=0))return i}return document.body}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o,t.exports=e["default"]}])});